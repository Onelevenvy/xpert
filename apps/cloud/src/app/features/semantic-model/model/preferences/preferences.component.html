<header mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
  <h4 style="pointer-events: none;">
    {{ 'PAC.MODEL.MODEL.Preferences' | translate: {Default: "Preferences"} }}
  </h4>
</header>

<mat-dialog-content class="mat-typography relative">
  <formly-form [form]="form" [fields]="fields" [model]="model"
    (modelChange)="onFormChange(model)"/>
  @if (model.preferences?.exposeXmla) {
    <div class="w-full overflow-auto mt-2">
      <a [href]="xmlaUrl">{{xmlaUrl}}</a>
    </div>
  }

  @if (loading()) {
    <ngm-spin class="absolute top-0 left-0 w-full h-full" />
  }
</mat-dialog-content>

<mat-dialog-actions >
  <button mat-button mat-dialog-close>
    {{ 'PAC.KEY_WORDS.Cancel' | translate: {Default: "Cancel"} }}
  </button>

  <div ngmButtonGroup>
    <button mat-stroked-button (click)="reset()">
      {{ 'PAC.KEY_WORDS.Reset' | translate: {Default: "Reset"} }}
    </button>
    <button mat-raised-button color="accent" cdkFocusInitial (click)="saveModel()">
      {{ 'PAC.KEY_WORDS.Apply' | translate: {Default: "Apply"} }}
    </button>
  </div>
</mat-dialog-actions>
