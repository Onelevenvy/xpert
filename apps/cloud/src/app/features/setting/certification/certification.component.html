<div class="text-xl">
  {{ 'PAC.KEY_WORDS.Certification' | translate: {Default: 'Certification'} }}
</div>
<div class="text-base py-2">
  {{ 'PAC.KEY_WORDS.DigitalAssetCertificationTypes' | translate: {Default: 'Digital Asset Certification Types'} }}
</div>

<div class="flex justify-start m-4">
  <div ngmButtonGroup>
    <button mat-raised-button color="primary" (click)="createCertification()">
      {{ 'PAC.ACTIONS.New' | translate: {Default: 'New'} }}
    </button>
  </div>
</div>

<div class="w-full flex-1 flex items-start overflow-auto">
  <div class="flex-1 p-2 grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 overflow-auto">
    <mat-card *ngFor="let certification of certifications$ | async" class="w-full flex flex-col">
      <mat-card-header>
        <mat-card-title class="text-lg">
          {{ certification.name }}
        </mat-card-title>
        <mat-card-subtitle>
          {{ certification.description }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content class="flex-1 m-0">
        <pac-user-profile-inline [user]="certification.owner"></pac-user-profile-inline>
      </mat-card-content>

      <mat-card-actions align="end">
        <div ngmButtonGroup displayDensity="cosy">
          <button mat-icon-button displayDensity="cosy" (click)="editCertification(certification)">
            <mat-icon fontSet="material-icons-outlined">edit</mat-icon>
          </button>
          <button mat-icon-button ngmAppearance="danger" displayDensity="cosy" (click)="removeCertification(certification)">
            <mat-icon fontSet="material-icons-outlined">close</mat-icon>
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>

  <div *ngIf="certification" class="w-[400px] px-8 flex flex-col justify-start items-start">
    <div class="text-lg my-4">
      {{ 'PAC.ACTIONS.Edit' | translate: {Default: 'Edit'} }}
    </div>
    <form [formGroup]="formGroup" class="w-full flex flex-col items-stretch" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>{{ 'PAC.KEY_WORDS.Name' | translate: {Default: 'Name'} }}</mat-label>
        <input matInput formControlName="name"/>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>{{ 'PAC.KEY_WORDS.Description' | translate: {Default: 'Description'} }}</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>

      <ngm-mat-select appearance="fill"
        formControlName="ownerId"
        displayBehaviour="descriptionOnly"
        [label]=" 'PAC.KEY_WORDS.Owner' | translate: {Default: 'Owner'} "
        [selectOptions]="users$ | async">
      </ngm-mat-select>

      <div class="flex items-center gap-2">
        <button mat-raised-button color="primary">
          {{ 'PAC.ACTIONS.Save' | translate: {Default: 'Save'} }}
        </button>
        <button mat-button (click)="cancel($event)">
          {{ 'PAC.ACTIONS.Cancel' | translate: {Default: 'Cancel'} }}
        </button>
      </div>
      
    </form>
  </div>
</div>
