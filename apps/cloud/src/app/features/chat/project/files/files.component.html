@if (!files()) {
  <div class="flex items-center justify-center w-full">
    <label for="project-files-dropzone" class="files-dropzone-label flex flex-col items-center justify-center w-full border border-gray-300 border-dashed rounded-3xl cursor-pointer p-4 gap-4 mb-4 mt-4 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"
      ngmDnd (fileDropped)="onFileDropped($event)">
      <div class="bg-components-card-bg flex flex-col justify-center items-center rounded-full w-14 h-14">
        <span class="text-text-secondary">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shapes"><path d="M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z"></path><rect x="3" y="14" width="7" height="7" rx="1"></rect><circle cx="17.5" cy="17.5" r="3.5"></circle>
          </svg>
        </span>
      </div>
      <div class="flex flex-col gap-1 items-center text-center">
        <h3 class="font-semibold text-lg">
          {{ 'PAC.XProject.Welcome' | translate: {Default: 'Welcome'} }}
        </h3>
        <span class="text-secondary max-w-full">
          {{ 'PAC.XProject.StartbyAttachingFiles' | translate: {Default: 'Start by attaching files to your project. They will be used in all chats in this project.'} }}
        </span>
        <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
          <span class="font-semibold">{{ 'PAC.XProject.ClicktoUpload' | translate: {Default: 'Click to upload'} }}</span> {{ 'PAC.XProject.OrDragandDrop' | translate: {Default: 'or drag and drop'} }}
        </p>
      </div>
      <input id="project-files-dropzone" #fileDropRef type="file" class="hidden" (change)="fileBrowseHandler($event.target)"
        (click)="fileDropRef.value=null;"/>
    </label>
  </div>
}

<div class="files-dropzone-label flex flex-col border border-transparent border-dashed rounded-2xl"
  [class.hidden]="!files()"
  ngmDnd (fileDropped)="onFileDropped($event)">
  <chat-file-list editable [(fileList)]="files" [projectId]="projectId()" [refresh]="refresh()" />
  <div class="flex items-center justify-center gap-2 py-4 text-text-secondary" role="region" 
    [attr.aria-label]="'PAC.XProject.DragandDropFiles' | translate: {Default: 'Drag and drop files here to upload'}">
    <i class="ri-drag-drop-line"></i>
    <span class="system-xs-regular">
      {{'PAC.XProject.DragandDropFiles' | translate: {Default: 'Drag and drop files here to upload'} }}
    </span>
  </div>
</div>

@if (loading()) {
  <ngm-spin class="absolute top-0 left-0 w-full h-full" />
}