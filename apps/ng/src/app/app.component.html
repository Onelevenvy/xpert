
<div fxLayout="column" fxLayoutAlign="start stretch" [class.nx-theme-dark]="dark">
    <mat-toolbar color="primary">
        <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
            <mat-icon>menu</mat-icon>
        </button>
        <!-- <span>{{ title$ | async }}</span> -->
        <span class="example-spacer"></span>

        <button mat-button routerLink="./charts" routerLinkActive="mat-accent">Charts</button>
        <button mat-button routerLink="./covid" routerLinkActive="mat-accent">Covid</button>
        <button mat-button routerLink="./foodmart" routerLinkActive="mat-accent">FoodMart</button>
        <button mat-button routerLink="./query" routerLinkActive="mat-accent">Query</button>
        <button mat-button routerLink="./explorer" routerLinkActive="mat-accent">Explorer</button>
        <button mat-button routerLink="./langchain" routerLinkActive="mat-accent">LangChain</button>

        <span style="flex: 1;"></span>

        <div fxLayout="row" fxLayoutAlign="space-around center" *ngIf="status$ | async as status">
            <div>
                <span>{{ status.status }}</span>
                <span *ngIf="status.payload">{{ status.payload | number }} %</span>
            </div>
            <button mat-icon-button [matTooltip]="error">
                <mat-icon>support_agent</mat-icon>
            </button>
        </div>
    </mat-toolbar>
    
    <div class="app-content" >
        <!-- <div fxLayout="row">
            <ngm-smart-filter [dataSettings]="dataSettings"
                [options]="smartFilterOptions"
                [appearance]="appearance"
                [(ngModel)]="slicer"
                (ngModelChange)="onSlicerChange($event)">
            </ngm-smart-filter>

            <ngm-smart-filter [dataSettings]="dataSettings"
                [options]="productFilterOptions"
                [appearance]="appearance"
                [(ngModel)]="product"
                (ngModelChange)="onSlicerChange($event)">
            </ngm-smart-filter>

            <ngm-smart-filter [dataSettings]="dataSettings"
                [options]="{
                    dimension: departmentDimension,
                    initialLevel: 1,
                    searchable: true
                }"
                [appearance]="appearance"
                [(ngModel)]="department"
                (ngModelChange)="onSlicerChange($event)">
            </ngm-smart-filter>

            <ngm-member-tree [dataSettings]="dataSettings"
                [dimension]="departmentDimension"
                [appearance]="appearance"
            ></ngm-member-tree>

            <ngm-member-table [dataSettings]="dataSettings"
                [dimension]="departmentDimension"
                [appearance]="appearance"
                [(ngModel)]="department"
                (ngModelChange)="onSlicerChange($event)"
            ></ngm-member-table>
        </div> -->

        <!-- <div class="flex flex-wrap gap-1">
            <ngm-member-tree-select
                [dataSettings]="{
                    dataSource: 'FOODMART',
                    entitySet: 'Sales'
                }"
                [dimension]="{
                    dimension: '[Store]',
                    level: '[Store].[Country]'
                }"
                [options]="{
                    label: 'Country',
                    memberSource: MemberSource.CUBE
                }"
                [(ngModel)]="store"
            ></ngm-member-tree-select>
            <ngm-member-tree-select
                label="State"
                [dataSettings]="{
                    dataSource: 'FOODMART',
                    entitySet: 'Sales'
                }"
                [dimension]="{
                    dimension: '[Store]',
                    level: '[Store].[State]'
                }"
                [options]="{
                    label: 'State',
                    memberSource: MemberSource.CUBE
                }"
                [(ngModel)]="store"
            ></ngm-member-tree-select>

            <ngm-smart-filter
                [dataSettings]="{
                    dataSource: 'FOODMART',
                    entitySet: 'Sales'
                }"
                [dimension]="{
                    dimension: '[Store]',
                    level: '[Store].[State]',
                    displayBehaviour: DisplayBehaviour.auto
                }"
                [options]="{
                    label: 'State',
                    memberSource: MemberSource.CUBE,
                    multiple: true
                }"
                [(ngModel)]="store"
            ></ngm-smart-filter>

            <ngm-smart-filter
                [dataSettings]="{
                    dataSource: 'FOODMART',
                    entitySet: 'Sales'
                }"
                [dimension]="{
                    dimension: '[Store]',
                    displayBehaviour: DisplayBehaviour.auto
                }"
                [options]="{
                    label: 'State',
                    memberSource: MemberSource.CUBE,
                    multiple: true
                }"
                [(ngModel)]="store1"
            ></ngm-smart-filter>

            <ngm-smart-select
                [dataSettings]="{
                    dataSource: 'FOODMART',
                    entitySet: 'Sales'
                }"
                [dimension]="{
                    dimension: '[Store]',
                    level: '[Store].[State]'
                }"
                [options]="{
                    label: 'State'
                }"
                [(ngModel)]="store"
            ></ngm-smart-select>
        </div>
-->

        <router-outlet #o="outlet"></router-outlet>
        
    </div>
</div>
