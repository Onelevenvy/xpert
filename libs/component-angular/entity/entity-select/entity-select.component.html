<mat-form-field [appearance]="appearance">
    <mat-label>{{''}}</mat-label>
    <mat-select [formControl]="fControl" (openedChange)="openChange($event)">
      <mat-select-trigger *ngIf="selectedOption$ | async as selectTrigger">
        <span>{{selectTrigger.label || selectTrigger.value}}</span>
      </mat-select-trigger>

      <mat-form-field appearance="fill" *ngIf="searchable" (click)="$event.stopPropagation()" style="width: 100%;">
        <mat-label>搜索</mat-label>
        <input matInput [formControl]="searchControl">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-option *ngIf="selectedOption$ | async as option" [value]="option.value"
        class="nx-formly__select-option"
        [ngClass]="{'nx-formly__with-icon': option.icon}">
        <mat-icon *ngIf="option.icon" [fontSet]="option.fontSet">{{option.icon}}</mat-icon>
        <ngm-display-behaviour [displayBehaviour]="DISPLAY_BEHAVIOUR"
              [option]="option"
              [highlight]="highlight">
        </ngm-display-behaviour>
      </mat-option>

      <!-- <cdk-virtual-scroll-viewport [itemSize]="42" [style.height.px]=4*42 minBufferPx="200" maxBufferPx="400"
        class="nx-formly__virtual-scroll-viewport">
        <mat-option *cdkVirtualFor="let option of options$ | async" [value]="option.value"
          class="nx-formly__select-option"
          [ngClass]="{'nx-formly__with-icon': option.icon}">
          <mat-icon *ngIf="option.icon" [fontSet]="option.fontSet">{{option.icon}}</mat-icon>
          <nx-display-behaviour-option [displayBehaviour]="DISPLAY_BEHAVIOUR"
                [option]="{
                  value: option.value,
                  text: option.label
                }"
                [highlight]="highlight">
          </nx-display-behaviour-option>
        </mat-option>
      </cdk-virtual-scroll-viewport> -->

    </mat-select>
</mat-form-field>
