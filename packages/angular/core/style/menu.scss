.mat-mdc-menu-panel.ngm-menu-card {
  overflow: hidden;
  max-height: 80vh;
}

.mat-mdc-menu-panel {
  .mat-mdc-menu-item {
    .mat-mdc-radio-button {
      .mdc-label {
        @apply whitespace-nowrap text-ellipsis;
      }
    }
  }
}

.mat-mdc-menu-panel .mat-mdc-menu-content {
  .mat-mdc-menu-item.active {
    color: var(--ngm-color-primary);
    @apply font-bold bg-black/5 dark:bg-white/10;
  }
}

/** active status color for menu trigger icon button */
.mat-mdc-menu-trigger.mat-mdc-icon-button.active {
  @apply bg-black/5 dark:bg-white/10;
  opacity: 1;
}

.cdk-menu.cdk-menu-group .cdk-menu-item {
  @apply outline-none;
}

.mat-mdc-menu-panel.ngm-density__compact {
  --mat-menu-item-icon-size: 20px;
  --mdc-radio-state-layer-size: 30px;
  --mat-menu-item-label-text-size: 1rem;
  --mat-menu-item-spacing: 1rem;
  .mat-mdc-menu-item {
    line-height: 38px;
    height: 38px;
    min-height: 38px;

    .mat-mdc-icon-button .mat-icon {
      margin-right: 0;
    }
  }
  .mat-mdc-menu-content .mat-mdc-menu-item .mat-icon {
    font-size: 20px;
  }
}

.mat-mdc-menu-panel.ngm-density__cosy {
  --mat-menu-item-label-text-size: 14px;
  --mat-menu-item-spacing: 1rem;
  .mat-mdc-menu-item {
    line-height: 40px;
    height: 40px;
    min-height: 40px;

    .mat-mdc-icon-button .mat-icon {
      margin-right: 0;
    }
  }
}

/** flex 1 for radio button content in menu panel */
.mat-mdc-menu-panel {
  .mat-mdc-menu-item {

    .mat-mdc-menu-item-text {
      @apply w-full;
    }

    .mat-mdc-radio-button {
      .mat-radio-label-content {
        flex: 1;
        overflow: hidden;
      }
    }
  }
}

.cdk-menu {
  @apply mt-2 inline-flex flex-col rounded-xl shadow-lg overflow-auto border border-solid 
    border-neutral-200 dark:border-neutral-700 dark:shadow-neutral-800;
  background-color: var(--ngm-color-surface);

  .cdk-menu-item[role='menuitemradio'][aria-checked='true'] {
    @apply bg-slate-100 font-semibold;
  }

  .cdk-menu-item.cdk-menu-trigger {
    justify-content: space-between;
  }

  .cdk-menu-item {
    @apply flex items-center bg-transparent whitespace-nowrap cursor-pointer border-none select-none;
    min-width: 64px;

    &:hover {
      @apply bg-gray-50 dark:bg-white/5;
    }
  
    &.ngm-cdk-menu-item__disabled {
      cursor: default;
      opacity: 0.5;
      &:hover {
        background-color: unset;
      }
    }

    &.ngm-cdk-menu__danger:hover {
      @apply bg-red-400 text-white;
    }

    & + .mat-icon {
      margin-right: 10px;
    }

    &.disabled, &.mat-button-disabled {
      @apply opacity-50 cursor-default;
    }

    .mat-button-wrapper {
      @apply w-full flex items-center;

      > .mat-icon:is(:first-child) {
        margin-right: 10px;
      }
    }
    
    .mdc-button__label {
      @apply flex-1;
    }

    .mat-icon {
      @apply text-text-secondary;
    }
  }

  &.cdk-menu__medium {
    @apply p-2 rounded-xl;
    .cdk-menu-item {
      @apply px-2 py-1 rounded-lg;
    }
  }

  &.cdk-menu__large {
    @apply p-2 rounded-2xl;
    .cdk-menu-item {
      @apply px-3 py-2 rounded-lg;
    }
  }

  .cdk-menu-item.danger:hover {
    @apply bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-300 disabled:bg-gray-50 dark:disabled:bg-gray-100/10;
  }

  .cdk-menu-item:disabled {
    @apply cursor-not-allowed;
  }

  .cdk-menu-item.active {
    @apply text-primary-500;
  }
}

.cdk-menu-bar.cdk-menu-group {
  .cdk-menu-item {
    @apply px-2 py-1 hover:bg-gray-200/50;
  }
}